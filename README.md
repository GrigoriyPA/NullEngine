# NullEngine

Демонстрация работы - <https://drive.google.com/file/d/1g-AOUuiTvutyDNfKaTNQ5sllxD3NaggJ/view?usp=sharing>

Имплементирована ключевая функциональность:

* Отрисовываемые объекты aka VerticesObject:
  * Объекты из точек, линий или треугольников
  * Поддержаны текстуры объектов:
    * diffuse - основная текстура объекта
    * specular - текстура для вычисления цвета бликов
    * emission - текстура не зависящая от источников света (создает эффект свечения)
* Сцена для хранения объектов и источников света
  * Объекты в сцене храняться иерархически как SceneObject:
    * SceneObject может содержать несколько инстансов (трансформаций переводящих VerticesObject в пространство мира)
    * SceneObject может подписаться на анимацию через порт
    * SceneObject может содержать подобъекты типа SceneObject
  * Источники света aka SceneLight:
    * содержат в себе легковесную имплементацию AnyMovableLight:
      * имплементация бывает четырёх типов - AmbientLight, DirectLight, PointLight, SpotLight
      * каждая имплементация умеет вычислять освещённость (метод CalculateLighting) и применять трансформацию
    * SceneLight можно подписать на анимацию через порт
    * SceneLight может принимать события TurnOn / TurnOf через порт
  * Сцена поддерживает итерацию по парам ([instances set], VerticesObject) преобразуя иерархическую коллекцию объектов в линейную
* Камера
  * Поддержано два типа камеры - DirectCamera, PerspectiveCamera
  * У камеры есть in порт для изменения её положения и out порт для возврата текущей трансформации камеры
* Рендерер, который принимает на вход сцену и камеру
  * Для отрисовки рендерер итерируется по объектам сцены ([instances set], VerticesObject)
  * Для каждого объекта выполняются шаги:
    * Применяется vertex shader, который переводит объекты из пространства мира в пространство клиппинга
    * Применяется клиппинг
    * Объекты отправляются в растеризатор для разбиения на пиксели
    * Для каждого пикселя цвет вычисляется в фрагментном шейдере (в нём происходит обход всех источников света)
  * Рендерер имеет in порт для передачи в него сцены и камеры и out порт для получения текстуры

Что ещё хочу сделать:

* Добавить многопоточность
* Поддержать загрузку объектов
* Поддержать загрузку анимаций
